{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction LoginComponent_div_12_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_12_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Please enter a valid email\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_12_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Must be a KU email (@ku.edu)\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, LoginComponent_div_12_span_1_Template, 2, 0, \"span\", 12)(2, LoginComponent_div_12_span_2_Template, 2, 0, \"span\", 12)(3, LoginComponent_div_12_span_3_Template, 2, 0, \"span\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.loginForm.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r0.loginForm.get(\"email\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"email\"]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (tmp_3_0 = ctx_r0.loginForm.get(\"email\")) == null ? null : tmp_3_0.errors == null ? null : tmp_3_0.errors[\"kuEmail\"]);\n  }\n}\nfunction LoginComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1, \" Password is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Sign In\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Signing In...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(fb, authService, router) {\n      this.fb = fb;\n      this.authService = authService;\n      this.router = router;\n      this.isLoading = false;\n      this.errorMessage = '';\n      this.loginForm = this.fb.group({\n        email: ['', [Validators.required, Validators.email, this.kuEmailValidator]],\n        password: ['', Validators.required]\n      });\n    }\n    kuEmailValidator(control) {\n      const email = control.value;\n      if (email && !email.endsWith('@ku.edu')) {\n        return {\n          kuEmail: true\n        };\n      }\n      return null;\n    }\n    onSubmit() {\n      if (this.loginForm.valid) {\n        this.isLoading = true;\n        this.errorMessage = '';\n        this.authService.login(this.loginForm.value).subscribe({\n          next: response => {\n            this.isLoading = false;\n            this.router.navigate(['/matches']);\n          },\n          error: error => {\n            this.isLoading = false;\n            this.errorMessage = error.error?.message || 'Login failed. Please try again.';\n          }\n        });\n      }\n    }\n    demoBypass() {\n      // Demo bypass - simulate successful login\n      this.isLoading = true;\n      // Simulate API call delay\n      setTimeout(() => {\n        // Set demo token and user data\n        localStorage.setItem('jaymatch_token', 'demo-token-12345');\n        localStorage.setItem('jaymatch_user', JSON.stringify({\n          id: 1,\n          email: 'demo@ku.edu',\n          name: 'Demo User',\n          age: 22,\n          major: 'Computer Science',\n          year: 'Senior',\n          bio: 'Demo user for testing',\n          interests: ['Programming', 'Coffee', 'Movies'],\n          isVerified: true\n        }));\n        // Trigger authentication state change\n        this.authService['currentUserSubject'].next({\n          id: 1,\n          email: 'demo@ku.edu',\n          name: 'Demo User',\n          age: 22,\n          major: 'Computer Science',\n          year: 'Senior',\n          bio: 'Demo user for testing',\n          interests: ['Programming', 'Coffee', 'Movies'],\n          isVerified: true\n        });\n        this.isLoading = false;\n        this.router.navigate(['/matches']);\n      }, 1000);\n    }\n    static {\n      this.ɵfac = function LoginComponent_Factory(t) {\n        return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoginComponent,\n        selectors: [[\"app-login\"]],\n        decls: 32,\n        vars: 12,\n        consts: [[1, \"auth-container\"], [1, \"auth-card\"], [1, \"auth-header\"], [1, \"subtitle\"], [1, \"auth-form\", 3, \"ngSubmit\", \"formGroup\"], [1, \"form-group\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"yourname@ku.edu\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Enter your password\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"full-width\", 3, \"disabled\"], [4, \"ngIf\"], [1, \"demo-bypass\"], [1, \"btn\", \"btn-demo\", 3, \"click\", \"disabled\"], [1, \"demo-note\"], [1, \"auth-footer\"], [\"routerLink\", \"/register\"], [\"class\", \"error-alert\", 4, \"ngIf\"], [1, \"error-message\"], [1, \"error-alert\"]],\n        template: function LoginComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n            i0.ɵɵtext(4, \"\\u2764\\uFE0F JayMatch\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"p\", 3);\n            i0.ɵɵtext(6, \"Welcome back, Jayhawk!\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"form\", 4);\n            i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_7_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(8, \"div\", 5)(9, \"label\", 6);\n            i0.ɵɵtext(10, \"KU Email\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(11, \"input\", 7);\n            i0.ɵɵtemplate(12, LoginComponent_div_12_Template, 4, 3, \"div\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"div\", 5)(14, \"label\", 9);\n            i0.ɵɵtext(15, \"Password\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(16, \"input\", 10);\n            i0.ɵɵtemplate(17, LoginComponent_div_17_Template, 2, 0, \"div\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"button\", 11);\n            i0.ɵɵtemplate(19, LoginComponent_span_19_Template, 2, 0, \"span\", 12)(20, LoginComponent_span_20_Template, 2, 0, \"span\", 12);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(21, \"div\", 13)(22, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_22_listener() {\n              return ctx.demoBypass();\n            });\n            i0.ɵɵtext(23, \" \\uD83D\\uDE80 Demo Bypass (Skip Login) \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"p\", 15);\n            i0.ɵɵtext(25, \"For demo purposes only\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(26, \"div\", 16)(27, \"p\");\n            i0.ɵɵtext(28, \"Don't have an account? \");\n            i0.ɵɵelementStart(29, \"a\", 17);\n            i0.ɵɵtext(30, \"Sign up\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(31, LoginComponent_div_31_Template, 2, 1, \"div\", 18);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            let tmp_1_0;\n            let tmp_2_0;\n            let tmp_3_0;\n            let tmp_4_0;\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"error\", ((tmp_1_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_1_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx.loginForm.get(\"email\")) == null ? null : tmp_2_0.touched));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"error\", ((tmp_3_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_3_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx.loginForm.get(\"password\")) == null ? null : tmp_4_0.touched));\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"disabled\", ctx.loginForm.invalid || ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          }\n        },\n        dependencies: [i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i3.RouterLink],\n        styles: [\".auth-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#000,#1a1a1a);display:flex;align-items:center;justify-content:center;padding:2rem}.auth-card[_ngcontent-%COMP%]{background:#1f1f1f;border-radius:20px;padding:3rem;box-shadow:0 20px 40px #0000004d;width:100%;max-width:400px;border:1px solid #333333}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#a855f7);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:2.5rem;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{color:#a0a0a0;font-size:1.1rem}.auth-form[_ngcontent-%COMP%]{margin-bottom:2rem}.full-width[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.auth-footer[_ngcontent-%COMP%]{text-align:center;color:#a0a0a0}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8b5cf6;text-decoration:none;font-weight:500}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.875rem;margin-top:.25rem}.demo-bypass[_ngcontent-%COMP%]{text-align:center;margin:1.5rem 0;padding:1rem;background:#ffffff0d;border-radius:12px;border:2px dashed rgba(255,255,255,.2)}.btn-demo[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:12px;font-weight:600;cursor:pointer;transition:all .3s ease;font-size:.9rem}.btn-demo[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #28a7454d}.btn-demo[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.demo-note[_ngcontent-%COMP%]{font-size:.75rem;color:#ffffffb3;margin-top:.5rem;font-style:italic}.error-alert[_ngcontent-%COMP%]{background:#ff6b6b1a;color:#ff6b6b;padding:1rem;border-radius:8px;margin-top:1rem;border:1px solid rgba(255,107,107,.2)}input.error[_ngcontent-%COMP%]{border-color:#ff6b6b}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding:2rem;margin:1rem}}\"]\n      });\n    }\n  }\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}